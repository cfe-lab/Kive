{% extends "portal/base.html" %}

{% block title %}Analysis{% endblock %}

{% block javascript %}
    <script src="/static/portal/jquery-2.0.3.min.js"></script>
    <script src="/static/sandbox/sandbox.js"></script>
{% endblock %}

{% block content %}

<style type="text/css">
.panel {
    margin: 1em 0;
    border: 1px solid #eee;
    float: left;
    width: 30%;
}
.selected {
    background-color: #c7e6fa;
}
.greyedout {
    color: #636363;
}
#buttons {
    width: 100px;
}

</style>

<a href="usr.html" rel="prev">Back to user portal</a>

<h2>Analysis</h2>

<p>
Run pipelines on data.
</p>

<div id="triptych">

<div class="panel" id="data_panel">
<table width=100%>
<thead><tr><th>Data</th></tr></thead>
<tbody><tr></tr></tbody>
</table>
</div>

<div class="panel" id="pipeline_panel">
<table id="pipeline_table" width=100% height=100%>
<thead>
	<tr>
    <th>Pipeline Family</th>
    <th>Revision</th>
	</tr>
</thead>
<tbody>
    {% for family, members in families %}
    <tr>
        <td>{{ family.name }}</td>
        <td>
            <!-- The Pipeline's PK is stored as the "id" of the option field. -->
            <select>
                {% for pipeline in members %}
                <option id="{{ pipeline.pk }}">{{ pipeline.revision_name }}</option>
                {% endfor %}
            </select>
    </tr>
    {% endfor %}
</tbody>
</table>
</div>

<div class="panel" id="results_panel">
<table width=100%>
<thead><tr><th>Results</th></tr></thead>
<tbody><tr></tr></tbody>
</table>
</div>

</div>

<div id="buttons">
<button id="run_button">Run</button>
</div>

{% endblock %}
