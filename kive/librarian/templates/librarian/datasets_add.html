<!-- Django template -->
<!-- Display datasets as a HTML table -->

{% extends "portal/base.html" %}

{% block title %}Datasets{% endblock %}

{% block javascript %}
<script src="/static/portal/jquery-2.0.3.min.js"></script>
<script src="/static/portal/noxss.js"></script>
<script src="/static/librarian/datasets_add.js"></script>
{% endblock %}

{% block widget_media %}
{{ singleDataset.media }}
{% endblock %}

{% block content %}

<a href="/datasets" rel="prev">Back to uploaded datasets</a>

<h2>Add Datasets</h2>

    <form id="datasetAddForm" name="datasetAddForm" action="" method="post" enctype="multipart/form-data">{% csrf_token %}
        <fieldset class="multiFieldSet">
            <legend>Add Single Dataset</legend>
            <table>
                <tr><td><label>{{ singleDataset.dataset_file.label }}</label></td>
                    <td>{{ singleDataset.dataset_file }}</td>
                    <td class="errortext">{{ singleDataset.dataset_file.errors }}</td>
                </tr>
                <tr><td><label>{{ singleDataset.externalfiledirectory.label }}</label></td>
                    <td>{{ singleDataset.externalfiledirectory }}</td>
                    <td class="errortext">{{ singleDataset.externalfiledirectory.errors }}</td>
                </tr>
                <tr><td><label>{{ singleDataset.external_path.label }}</label></td>
                    <td>{{ singleDataset.external_path }}</td>
                    <td class="errortext">{{ singleDataset.external_path.errors }}</td>
                    <td><label>{{ singleDataset.save_in_db.label }}</label></td>
                    <td>{{ singleDataset.save_in_db }}</td>
                    <td class="errortext">{{ singleDataset.save_in_db.errors }}</td>
                </tr>
                <tr><td><label>{{ singleDataset.name.label }}</label></td>
                    <td>{{ singleDataset.name }}</td>
                    <td class="errortext">{{ singleDataset.name.errors }}</td>
                </tr>
                <tr><td><label>{{ singleDataset.description.label }}</label></td>
                    <td>{{ singleDataset.description }}</td>
                    <td class="errortext">{{ singleDataset.description.errors }}</td>
                </tr>
                <tr><td><label>{{ singleDataset.compound_datatype.label }}</label></td>
                    <td>{{ singleDataset.compound_datatype }}</td>
                    <td class="errortext">{{ singleDataset.compound_datatype.errors }}</td>
                </tr>
                <tr><td><label>{{ singleDataset.permissions.label }}</label></td>
                    <td>{{ singleDataset.permissions }}</td>
                    <td class="errortext">{{ singleDataset.permissions.errors }}</td>
                </tr>
            </table>
        </fieldset>
        <input type="submit" name="singleSubmit" value="Submit Single Dataset">
        <div class="errorStrip errortext">
        {% if singleDataset.non_field_errors %}
            Error while adding datasets:
        {% endif %}
        {{ singleDataset.non_field_errors }}</div>
</form>



{% endblock %}
