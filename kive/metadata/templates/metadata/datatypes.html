<!-- Django template -->
<!-- Display contents of Datatypes as a HTML table -->

{% extends "portal/base.html" %}

{% block title %}Datatypes{% endblock %}

{% block javascript %}
    <script src="/static/portal/jquery-2.0.3.min.js"></script>
    <script src="/static/portal/noxss.js"></script>
    <script src="/static/portal/permissions.js"></script>
    <script src="/static/metadata/datatypes.js"></script>
    <link rel="stylesheet" href="/static/portal/permissions.css">

    <script type="text/javascript">

    $(function() {
        // For table rows that start with a link, clicking the row should click the link.
        var links = $('td:first-child > a:first-child:last-child');
        links.closest('tr').css('cursor', 'pointer').on('click', function() {
            $('td > a', this)[0].click();
        }).on('mouseover mouseout', function() {
            $(this).toggleClass('hover');
        });

        datatypes_main({{ is_user_admin|lower }},
                $("#datatypes"),
                JSON.parse($('#initial_data').text()));
    });

    </script>

{% endblock %}

{% block content %}

<a href="/dev.html" rel="prev">Back to developer's portal</a>

<h2>Datatypes</h2>

<div id="initial_data" style="display:none">{{ datatypes|escape }}</div>

<a href="/datatype_add" class="button">+&ensp;<span class="button-lbl">Add new</span></a>

<table id="datatypes"></table>

{% endblock %}
